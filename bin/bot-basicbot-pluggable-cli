#!/usr/bin/perl

use warnings;
use strict;

use Test::Bot::BasicBot::Pluggable;

my $nick = "bbpcli";

my $bot = Test::Bot::BasicBot::Pluggable->new(
    nick     => $nick,
    charset  => "utf8",
    store    => 'Memory',
);

# Loader lets you tell the bot to load other modules.
$bot->load("Loader");

while (1) {
    last if eof();
    my $in = <>;
    chomp $in;

    # strip off whitespace before and after the message
    $in =~ s!(^\s*|\s*$)!!g;

    last if $in eq 'quit';
    my $ret = $bot->tell($in,1,1,$ENV{USER});
    print "$ret\n" if $ret;
}

1;

__END__

=head1 NAME

bot-basicbot-pluggable.pl - A standard Bot::BasicBot::Pluggable script

=head1 DESCRIPTION

A standard Bot::BasicBot::Pluggable interface. You can /query the bot
to load in more modules. Change the admin password ASAP - See perldoc
L<Bot::BasicBot::Pluggable::Auth> for details of this.

=head1 USAGE

  bot-basicbot-pluggable-cli

=head2 SEE ALSO

Bot::BasicBot::Pluggable

